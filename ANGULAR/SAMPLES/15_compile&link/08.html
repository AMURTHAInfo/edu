<html>
<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script type="text/javascript">
        var app = angular.module('app', []);

        app.controller('msg', ['$scope', function($scope){
            $scope.a = 5; //this is available to directive, by default
        }]);

        app.directive('message', function($interpolate){
          return{
             compile: function(tElement, tAttributes){
                  console.log(tAttributes.text + " -In compile..");
                  return  function(scope, iElement, iAttributes, controller){
                      console.log(iAttributes.text + " -In Post..");
                  }
              },
          }
         });

    </script>
</head>
<body ng-app="app">
<div ng-controller="msg">
    <div message text="{{i}}" ng-repeat="i in [1,2,3,4,5]">
        {{i}}
    </div>
</div>
</body>
</html>